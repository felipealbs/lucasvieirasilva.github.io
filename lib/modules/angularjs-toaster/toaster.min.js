(function(){"use strict";angular.module("toaster",["ngAnimate"]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","mouseover-timer-stop":!0}).service("toaster",["$rootScope","toasterConfig",function(n,t){this.pop=function(t,i,r,u,f,e){if(angular.isObject(t)){var o=t;this.toast={type:o.type,title:o.title,body:o.body,timeout:o.timeout,bodyOutputType:o.bodyOutputType,clickHandler:o.clickHandler}}else this.toast={type:t,title:i,body:r,timeout:u,bodyOutputType:f,clickHandler:e};n.$emit("toaster-newToast")};this.clear=function(){n.$emit("toaster-clearToasts")};for(var i in t["icon-classes"])this[i]=function(n){return function(t,i,r,u,f){angular.isString(t)?this.pop(n,t,i,r,u,f):this.pop(angular.extend(t,{type:n}))}}(i)}]).factory("toasterRegisterEvents",function(){var n={_NewToastEvent:!1,_ClearAllToastsEvent:!1,registerNewToastEvent:function(){this._NewToastEvent=!0},registerClearAllToastsEvent:function(){this._ClearAllToastsEvent=!0},deregisterNewToastEvent:function(){this._NewToastEvent=!1},deregisterClearAllToastsEvent:function(){this._ClearAllToastsEvent=!1},isRegisteredNewToastEvent:function(){return this._NewToastEvent},isRegisteredClearAllToastsEvent:function(){return this._ClearAllToastsEvent}};return{registerNewToastEvent:n.registerNewToastEvent,registerClearAllToastsEvent:n.registerClearAllToastsEvent,deregisterNewToastEvent:n.deregisterNewToastEvent,deregisterClearAllToastsEvent:n.deregisterClearAllToastsEvent,isRegisteredNewToastEvent:n.isRegisteredNewToastEvent,isRegisteredClearAllToastsEvent:n.isRegisteredClearAllToastsEvent}}).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterRegisterEvents",function(n,t,i,r,u,f,e){return{replace:!0,restrict:"EA",scope:!0,link:function(o,s,h){function a(t){t.type=c["icon-classes"][t.type];t.type||(t.type=c["icon-class"]);l++;angular.extend(t,{id:l});t.bodyOutputType=t.bodyOutputType||c["body-output-type"];switch(t.bodyOutputType){case"trustedHtml":t.html=r.trustAsHtml(t.body);break;case"template":t.bodyTemplate=t.body||c["body-template"];break;case"templateWithData":var u=n(t.body||c["body-template"]),i=u(o);t.bodyTemplate=i.template;t.data=i.data}o.configureTimer(t);c["newest-on-top"]===!0?(o.toasters.unshift(t),c.limit>0&&o.toasters.length>c.limit&&o.toasters.pop()):(o.toasters.push(t),c.limit>0&&o.toasters.length>c.limit&&o.toasters.shift());t.mouseover=!1}function v(n,t){n.timeout=i(function(){n.mouseover||o.removeToast(n.id)},t)}var l=0,c;c=angular.extend({},u,o.$eval(h.toasterOptions));o.config={position:c["position-class"],title:c["title-class"],message:c["message-class"],tap:c["tap-to-dismiss"],closeButton:c["close-button"],animation:c["animation-class"],mouseoverTimer:c["mouseover-timer-stop"]};o.deregClearToasts=null;o.deregNewToast=null;o.$on("$destroy",function(){o.deregClearToasts&&o.deregClearToasts();o.deregNewToast&&o.deregNewToast();o.deregClearToasts=null;o.deregNewToast=null;e.deregisterNewToastEvent();e.deregisterClearAllToastsEvent()});o.configureTimer=function(n){var t=typeof n.timeout=="number"?n.timeout:c["time-out"];t>0&&v(n,t)};o.toasters=[];e.isRegisteredNewToastEvent()||(e.registerNewToastEvent(),o.deregNewToast=t.$on("toaster-newToast",function(){a(f.toast)}));e.isRegisteredClearAllToastsEvent()||(e.registerClearAllToastsEvent(),o.deregClearToasts=t.$on("toaster-clearToasts",function(){o.toasters.splice(0,o.toasters.length)}))},controller:["$scope","$element","$attrs",function(n){n.stopTimer=function(t){t.mouseover=!0;n.config.mouseoverTimer===!0&&t.timeout&&(i.cancel(t.timeout),t.timeout=null)};n.restartTimer=function(t){t.mouseover=!1;n.config.mouseoverTimer===!0?t.timeout||n.configureTimer(t):t.timeout===null&&n.removeToast(f.id)};n.removeToast=function(t){var i=0;for(i;i<n.toasters.length;i++)if(n.toasters[i].id===t)break;n.toasters.splice(i,1)};n.click=function(t,i){if(n.config.tap===!0||i==!0){var r=!0;t.clickHandler&&(angular.isFunction(t.clickHandler)?r=t.clickHandler(t,i):angular.isFunction(n.$parent.$eval(t.clickHandler))?r=n.$parent.$eval(t.clickHandler)(t,i):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container."));r&&n.removeToast(t.id)}}}],template:'<div  id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click(toaster)" ng-mouseover="stopTimer(toaster)"  ng-mouseout="restartTimer(toaster)"><button class="toast-close-button" ng-show="config.closeButton" ng-click="click(toaster, true)">&times;<\/button><div ng-class="config.title">{{toaster.title}}<\/div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"><\/div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"><\/div><\/div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"><\/div><\/div><div ng-switch-default >{{toaster.body}}<\/div><\/div><\/div><\/div>'}}])})(window,document);
//# sourceMappingURL=toaster.min.js.map
